# SPA Habit Trackers

## Описание:

Бэкенд-часть SPA веб-приложения по книге «Атомные привычки» Джеймса Клира.

Данное приложение создано на Django REST Framework с настройкой отложенных задач через Celery,
для отправки сообщений в телеграмм бот.

## Установка:

* Клонируем репозиторий *git@github.com:AntonNadein/SPA-Habit-Trackers.git*
* Устанавливаем зависимости **pyproject.toml**
  * Для работы на Windows добавлен пакет eventlet
* Переименовываем файл .env.sample в .env и заполняем его своими данными
    * Настройки SECRET_KEY и DEBUG
    * Настройки подключения к базе данных
    * Настройки подключения брокера для CELERY
    * Телеграмм бот токен

## Использование:

Запуск:
* Запуск обработчика очереди Celery (worker) для получения задач и их выполнения. 
  * *celery -A config worker -l INFO*
  * *celery -A config worker -l INFO -P eventlet* -команда для Windows 
* Запуск планировщика Celery beat.
  * *celery -A config beat -l info -S django*
* Запуск Django командой *python manage.py runserver*

Так же команды для запуска можете посмотреть на страницах документаций Django и Celery

Работу каждого эндпоинта можно проверить с помощью Postman.

## Структура проекта:

#### Приложение состоит из двух основных приложений:

1. *tracker* - приложение управления привычками. Содержит модели, сериализаторы, представления с основными CRUD
 операциями. В **tasks.py** настройки для отложенной задачи celery и функции отправки сообщения в телеграмм бот.

2. *users* - приложение управления пользователями. Содержит модели, сериализаторы, представления с основными 
CRUD операциями с пользователями, регистрация пользователей в проекте настроена JSON Web Token (JWT)-авторизации.

* *config* - настройки проекта(settings.py) и настройки маршрутов (urls.py).

## API Документация:
В проекте используется drf-yasg для автоматической генерации документации на основе ваших сериализаторов,
представлений и URL-шаблонов.

http://127.0.0.1:8000/redoc/

## Тестирование:
* *coverage run --source='.' manage.py test*
* *coverage report*

Test coverage 96%

## Лицензия:
Этот проект не имеет лицензий.